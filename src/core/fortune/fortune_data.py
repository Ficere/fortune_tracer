"""è¿åŠ¿è§£è¯»å¸¸é‡æ•°æ®"""

# äº”è¡Œç”Ÿå…‹å…³ç³»æè¿°
WUXING_RELATION = {
    ("æœ¨", "æœ¨"): ("æ¯”å’Œ", "åŒæ°”ç›¸åŠ©ï¼ŒåŠ›é‡å¢å¼º"),
    ("æœ¨", "ç«"): ("ç”Ÿ", "æœ¨ç”Ÿç«ï¼Œæ¶ˆè€—è‡ªèº«åŠ©åŠ›ä»–äºº"),
    ("æœ¨", "åœŸ"): ("å…‹", "æœ¨å…‹åœŸï¼Œä¸»å¯¼æ§åˆ¶ï¼Œè€—è´¹ç²¾åŠ›"),
    ("æœ¨", "é‡‘"): ("è¢«å…‹", "é‡‘å…‹æœ¨ï¼Œå—åˆ°å‹åˆ¶ï¼Œéœ€è°¨æ…"),
    ("æœ¨", "æ°´"): ("è¢«ç”Ÿ", "æ°´ç”Ÿæœ¨ï¼Œå¾—åˆ°æ»‹å…»ï¼Œè·å¾—åŠ©åŠ›"),
    ("ç«", "ç«"): ("æ¯”å’Œ", "åŒæ°”ç›¸åŠ©ï¼Œçƒ­æƒ…é«˜æ¶¨"),
    ("ç«", "åœŸ"): ("ç”Ÿ", "ç«ç”ŸåœŸï¼Œä»˜å‡ºæœ‰å›æŠ¥"),
    ("ç«", "é‡‘"): ("å…‹", "ç«å…‹é‡‘ï¼Œæœ‰æ§åˆ¶åŠ›ï¼Œä½†è€—ç¥"),
    ("ç«", "æ°´"): ("è¢«å…‹", "æ°´å…‹ç«ï¼Œå—åˆ°åˆ¶çº¦ï¼Œéœ€å°å¿ƒ"),
    ("ç«", "æœ¨"): ("è¢«ç”Ÿ", "æœ¨ç”Ÿç«ï¼Œè·å¾—æ”¯æŒï¼Œè´µäººåŠ©"),
    ("åœŸ", "åœŸ"): ("æ¯”å’Œ", "åŒæ°”ç›¸åŠ©ï¼Œç¨³å®šè¸å®"),
    ("åœŸ", "é‡‘"): ("ç”Ÿ", "åœŸç”Ÿé‡‘ï¼ŒåŸ¹è‚²æ”¶è·"),
    ("åœŸ", "æ°´"): ("å…‹", "åœŸå…‹æ°´ï¼Œæœ‰ä¸»å¯¼æƒï¼Œä½†è´¹å¿ƒ"),
    ("åœŸ", "æœ¨"): ("è¢«å…‹", "æœ¨å…‹åœŸï¼Œå—åˆ°æŒ‘æˆ˜ï¼Œéœ€åŠªåŠ›"),
    ("åœŸ", "ç«"): ("è¢«ç”Ÿ", "ç«ç”ŸåœŸï¼Œå¾—åˆ°å¸®åŠ©ï¼Œé¡ºåˆ©"),
    ("é‡‘", "é‡‘"): ("æ¯”å’Œ", "åŒæ°”ç›¸åŠ©ï¼Œæ„å¿—åšå®š"),
    ("é‡‘", "æ°´"): ("ç”Ÿ", "é‡‘ç”Ÿæ°´ï¼Œä»˜å‡ºå¾—å›æŠ¥"),
    ("é‡‘", "æœ¨"): ("å…‹", "é‡‘å…‹æœ¨ï¼Œæœ‰æ§åˆ¶åŠ›ï¼Œä½†è¾›è‹¦"),
    ("é‡‘", "ç«"): ("è¢«å…‹", "ç«å…‹é‡‘ï¼Œå—åˆ°è€ƒéªŒï¼Œéœ€åšæŒ"),
    ("é‡‘", "åœŸ"): ("è¢«ç”Ÿ", "åœŸç”Ÿé‡‘ï¼Œè·å¾—æ”¯æ’‘ï¼Œç¨³å›º"),
    ("æ°´", "æ°´"): ("æ¯”å’Œ", "åŒæ°”ç›¸åŠ©ï¼Œæ™ºæ…§å¢é•¿"),
    ("æ°´", "æœ¨"): ("ç”Ÿ", "æ°´ç”Ÿæœ¨ï¼Œä»˜å‡ºæœ‰ä»·å€¼"),
    ("æ°´", "ç«"): ("å…‹", "æ°´å…‹ç«ï¼Œæœ‰å‹åˆ¶åŠ›ï¼Œä½†è€—èƒ½"),
    ("æ°´", "åœŸ"): ("è¢«å…‹", "åœŸå…‹æ°´ï¼Œå—åˆ°é™åˆ¶ï¼Œéœ€çªç ´"),
    ("æ°´", "é‡‘"): ("è¢«ç”Ÿ", "é‡‘ç”Ÿæ°´ï¼Œå¾—åˆ°èµ„æºï¼Œå……å®"),
}

# è¿åŠ¿ç­‰çº§æè¿°
FORTUNE_LEVELS = {
    (90, 100): ("å¤§å‰", "ğŸŒŸ", "è¿åŠ¿æä½³ï¼Œè¯¸äº‹é¡ºé‚"),
    (80, 90): ("å‰", "ğŸ˜Š", "è¿åŠ¿è‰¯å¥½ï¼ŒæŠŠæ¡æœºä¼š"),
    (70, 80): ("å°å‰", "ğŸ™‚", "è¿åŠ¿å¹³ç¨³ï¼Œç¨³ä¸­æœ‰è¿›"),
    (60, 70): ("å¹³", "ğŸ˜", "è¿åŠ¿ä¸€èˆ¬ï¼Œå®œå®ˆä¸å®œè¿›"),
    (50, 60): ("å°å‡¶", "ğŸ˜Ÿ", "è¿åŠ¿æ¬ ä½³ï¼Œè°¨æ…è¡Œäº‹"),
    (40, 50): ("å‡¶", "ğŸ˜°", "è¿åŠ¿è¾ƒå·®ï¼Œé¿å…å†’é™©"),
    (0, 40): ("å¤§å‡¶", "âš ï¸", "è¿åŠ¿ä½è¿·ï¼ŒéŸ¬å…‰å…»æ™¦"),
}

# å¹´é¾„é˜¶æ®µç‰¹å¾
AGE_STAGE = {
    (0, 10): ("ç«¥å¹´æœŸ", "åŸºç¡€å¥ å®šæœŸï¼Œå—å®¶åº­å½±å“å¤§"),
    (10, 20): ("å°‘å¹´æœŸ", "å­¦ä¸šæˆé•¿æœŸï¼Œæ€§æ ¼å¡‘é€ æœŸ"),
    (20, 30): ("é’å¹´æœŸ", "äº‹ä¸šèµ·æ­¥æœŸï¼Œæ„Ÿæƒ…èŒå‘æœŸ"),
    (30, 40): ("å£®å¹´æœŸ", "äº‹ä¸šå‘å±•æœŸï¼Œå®¶åº­å»ºè®¾æœŸ"),
    (40, 50): ("ä¸­å¹´æœŸ", "äº‹ä¸šç¨³å®šæœŸï¼Œå­å¥³æ•™è‚²æœŸ"),
    (50, 60): ("çŸ¥å‘½æœŸ", "ç»éªŒæˆç†ŸæœŸï¼Œå¥åº·å…³æ³¨æœŸ"),
    (60, 70): ("èŠ±ç”²æœŸ", "é€€ä¼‘è°ƒæ•´æœŸï¼Œäº«å—ç”Ÿæ´»æœŸ"),
    (70, 80): ("å¤ç¨€æœŸ", "å®‰äº«æ™šå¹´æœŸï¼Œå…»ç”Ÿä¿å¥æœŸ"),
    (80, 100): ("è€„è€‹æœŸ", "é¢å…»å¤©å¹´æœŸï¼Œæ·¡æ³Šååˆ©æœŸ"),
}

# äº‹ä¸šå»ºè®®
CAREER_ADVICE = {
    "å¤§å‰": ["å¯å¤§èƒ†å¼€æ‹“æ–°ä¸šåŠ¡", "é€‚åˆå‡èŒè·³æ§½", "æŠ•èµ„æœºä¼šå¥½"],
    "å‰": ["ä¿æŒç¨³å®šå‘å±•", "å¯é€‚å½“æ‰©å±•", "åˆä½œæœºä¼šå¤š"],
    "å°å‰": ["å¾ªåºæ¸è¿›", "å·©å›ºç°æœ‰æˆæœ", "å­¦ä¹ æå‡"],
    "å¹³": ["ç»´æŒç°çŠ¶ä¸ºå®œ", "ä¸å®œå¤§å˜åŠ¨", "åšå¥½æœ¬èŒ"],
    "å°å‡¶": ["è°¨æ…å†³ç­–", "é¿å…å†²åŠ¨", "é˜²å°äºº"],
    "å‡¶": ["ä½è°ƒè¡Œäº‹", "å®ˆæˆä¸ºä¸»", "æ³¨æ„äººé™…"],
    "å¤§å‡¶": ["éŸ¬å…‰å…»æ™¦", "é¿å…æŠ•èµ„", "ä¿å®ˆç»è¥"],
}

# æ„Ÿæƒ…å»ºè®®
LOVE_ADVICE = {
    "å¤§å‰": ["æ¡ƒèŠ±è¿æ—º", "é€‚åˆè¡¨ç™½/æ±‚å©š", "æ„Ÿæƒ…å‡æ¸©"],
    "å‰": ["æ„Ÿæƒ…ç¨³å®š", "å¢è¿›æ„Ÿæƒ…å¥½æ—¶æœº", "å¼‚æ€§ç¼˜å¥½"],
    "å°å‰": ["ç»´æŠ¤æ„Ÿæƒ…", "å¤šæ²Ÿé€šäº¤æµ", "å¢åŠ äº’åŠ¨"],
    "å¹³": ["å¹³æ·¡ä¸­è§çœŸæƒ…", "ä¸å®œè¿‡åº¦æœŸå¾…", "çæƒœç°æœ‰"],
    "å°å‡¶": ["æ³¨æ„æ²Ÿé€š", "é¿å…äº‰åµ", "åŒ…å®¹ç†è§£"],
    "å‡¶": ["æ„Ÿæƒ…æ˜“æœ‰æ³¢æŠ˜", "å†·é™å¤„ç†åˆ†æ­§", "è°¨é˜²ç¬¬ä¸‰è€…"],
    "å¤§å‡¶": ["æ„Ÿæƒ…å±æœº", "å®œå†·å¤„ç†", "åæ€è‡ªçœ"],
}

# å¥åº·å»ºè®®ï¼ˆæŒ‰äº”è¡Œï¼‰
HEALTH_ADVICE = {
    "æœ¨": {"favorable": "è‚èƒ†è°ƒå…»å¥½æ—¶æœº", "unfavorable": "æ³¨æ„è‚èƒ†ã€çœ¼ç›ã€ç­‹éª¨"},
    "ç«": {"favorable": "å¿ƒè„‘è¡€ç®¡çŠ¶æ€ä½³", "unfavorable": "æ³¨æ„å¿ƒè„ã€è¡€å‹ã€å°è‚ "},
    "åœŸ": {"favorable": "è„¾èƒƒæ¶ˆåŒ–åŠŸèƒ½å¥½", "unfavorable": "æ³¨æ„è„¾èƒƒã€è‚Œè‚‰ã€çš®è‚¤"},
    "é‡‘": {"favorable": "è‚ºéƒ¨å‘¼å¸é¡ºç•…", "unfavorable": "æ³¨æ„è‚ºéƒ¨ã€å‘¼å¸é“ã€å¤§è‚ "},
    "æ°´": {"favorable": "è‚¾è„æ³Œå°¿åŠŸèƒ½å¥½", "unfavorable": "æ³¨æ„è‚¾è„ã€éª¨éª¼ã€è€³æœµ"},
}

# è´¢è¿å»ºè®®
WEALTH_ADVICE = {
    "å¤§å‰": ["è´¢æºå¹¿è¿›", "å¯ç§¯ææŠ•èµ„", "åè´¢è¿æ—º"],
    "å‰": ["æ”¶å…¥ç¨³å®šå¢é•¿", "æ­£è´¢ä¸ºä¸»", "å¯é€‚å½“ç†è´¢"],
    "å°å‰": ["è´¢è¿å¹³ç¨³", "é‡å…¥ä¸ºå‡º", "ç¨³å¥æŠ•èµ„"],
    "å¹³": ["æ”¶æ”¯å¹³è¡¡", "ä¸å®œå†’é™©", "å‚¨è“„ä¸ºä¸»"],
    "å°å‡¶": ["å¼€æ”¯å¢å¤§", "é¿å…æŠ•æœº", "è°¨é˜²ç ´è´¢"],
    "å‡¶": ["è´¢è¿æ¬ ä½³", "æ§åˆ¶æ”¯å‡º", "é˜²æ­¢è¯ˆéª—"],
    "å¤§å‡¶": ["ç ´è´¢é£é™©", "ä¿å®ˆç†è´¢", "é¿å…å€Ÿè´·"],
}

# æŒ‰å¹´é¾„æ®µåˆ†ç±»çš„é€‚å®œ/ä¸å®œæ´»åŠ¨
ACTIVITIES_BY_AGE = {
    # 0-10å² ç«¥å¹´æœŸ
    "ç«¥å¹´": {
        "å¤§å‰": {"suitable": ["äº²å­æ¸¸ç©", "å¯è’™æ•™è‚²", "åŸ¹å…»å…´è¶£"], "unsuitable": []},
        "å‰": {"suitable": ["å­¦ä¹ æ–°æŠ€èƒ½", "ç»“äº¤ç©ä¼´", "æˆ·å¤–æ´»åŠ¨"], "unsuitable": []},
        "å°å‰": {"suitable": ["æ—¥å¸¸ä½œæ¯", "äº²å­é˜…è¯»", "é€‚é‡è¿åŠ¨"], "unsuitable": []},
        "å¹³": {"suitable": ["è§„å¾‹ç”Ÿæ´»", "ä¼‘æ¯è°ƒæ•´", "å®¶åº­é™ªä¼´"], "unsuitable": ["è¿‡åº¦å­¦ä¹ "]},
        "å°å‡¶": {"suitable": ["å®‰é™ä¼‘å…»", "å®¶é•¿é™ªæŠ¤", "è°ƒæ•´ä½œæ¯"], "unsuitable": ["å‰§çƒˆè¿åŠ¨"]},
        "å‡¶": {"suitable": ["å±…å®¶ä¼‘æ¯", "å¢å¼ºè¥å…»", "å¤šåŠ çœ‹æŠ¤"], "unsuitable": ["è¿œè¡Œ", "å‰§çƒˆæ´»åŠ¨"]},
        "å¤§å‡¶": {"suitable": ["é™å…»è°ƒç†", "å¯†åˆ‡å…³æ³¨å¥åº·"], "unsuitable": ["å¤–å‡º", "ç–²åŠ³æ´»åŠ¨"]},
    },
    # 10-20å² å°‘å¹´æœŸ
    "å°‘å¹´": {
        "å¤§å‰": {"suitable": ["å‡å­¦è€ƒè¯•", "å‚åŠ ç«èµ›", "æ‹“å±•å…´è¶£"], "unsuitable": []},
        "å‰": {"suitable": ["å­¦ä¸šæ·±é€ ", "äº¤å‹ç¤¾äº¤", "ä½“è‚²é”»ç‚¼"], "unsuitable": []},
        "å°å‰": {"suitable": ["å·©å›ºå­¦ä¹ ", "åŸ¹å…»ç‰¹é•¿", "é€‚åº¦ç¤¾äº¤"], "unsuitable": ["æ²‰è¿·æ¸¸æˆ"]},
        "å¹³": {"suitable": ["å¤ä¹ å·©å›º", "é˜…è¯»å……ç”µ", "è§„åˆ’æœªæ¥"], "unsuitable": ["è’åºŸå­¦ä¸š"]},
        "å°å‡¶": {"suitable": ["è°ƒæ•´å¿ƒæ€", "å¯»æ±‚å¸®åŠ©", "åæ€æ”¹è¿›"], "unsuitable": ["å†²åŠ¨è¡Œäº‹"]},
        "å‡¶": {"suitable": ["æ²‰æ·€ç§¯ç´¯", "è°¨æ…äº¤å‹", "ä¸“æ³¨å­¦ä¸š"], "unsuitable": ["æ—©æ‹", "é€ƒè¯¾"]},
        "å¤§å‡¶": {"suitable": ["æ”¶å¿ƒé™å…»", "è°ƒæ•´çŠ¶æ€"], "unsuitable": ["é‡å¤§å†³å®š", "å†’é™©è¡Œä¸º"]},
    },
    # 20-30å² é’å¹´æœŸ
    "é’å¹´": {
        "å¤§å‰": {"suitable": ["æ±‚èŒåˆ›ä¸š", "æ‹çˆ±ç»“å©š", "æ·±é€ è¿›ä¿®"], "unsuitable": []},
        "å‰": {"suitable": ["é¢è¯•æ±‚èŒ", "çº¦ä¼šäº¤å‹", "æŠ€èƒ½æå‡"], "unsuitable": []},
        "å°å‰": {"suitable": ["èŒåœºå‘å±•", "ç¤¾äº¤æ‹“å±•", "è‡ªæˆ‘æå‡"], "unsuitable": ["ç›²ç›®è·³æ§½"]},
        "å¹³": {"suitable": ["ç¨³å®šå‘å±•", "ç§¯ç´¯ç»éªŒ", "ç†æ€§è§„åˆ’"], "unsuitable": ["å†²åŠ¨è¾èŒ"]},
        "å°å‡¶": {"suitable": ["è°ƒæ•´æ–¹å‘", "åæ€å®šä½", "æ²‰æ·€ç§¯ç´¯"], "unsuitable": ["å¤§é¢æŠ•èµ„"]},
        "å‡¶": {"suitable": ["ä½è°ƒè¡Œäº‹", "è°¨æ…ç¤¾äº¤", "å‚¨è“„ç§¯ç´¯"], "unsuitable": ["åˆ›ä¸š", "å€Ÿè´·"]},
        "å¤§å‡¶": {"suitable": ["éŸ¬å…‰å…»æ™¦", "ä¿å®ˆè¡Œäº‹"], "unsuitable": ["é‡å¤§å†³å®š", "å†’é™©"]},
    },
    # 30å²ä»¥ä¸Š æˆå¹´æœŸï¼ˆä½¿ç”¨åŸæœ‰å»ºè®®ï¼‰
    "æˆå¹´": {
        "å¤§å‰": {"suitable": ["å¼€ä¸š", "ç­¾çº¦", "æŠ•èµ„", "æ±‚èŒ", "ç»“å©š", "æ¬å®¶"], "unsuitable": []},
        "å‰": {"suitable": ["è°ˆåˆ¤", "é¢è¯•", "çº¦ä¼š", "æ—…è¡Œ", "å­¦ä¹ "], "unsuitable": ["è¯‰è®¼"]},
        "å°å‰": {"suitable": ["æ—¥å¸¸å·¥ä½œ", "ç¤¾äº¤", "è¿åŠ¨", "å…»ç”Ÿ"], "unsuitable": ["é‡å¤§å†³ç­–"]},
        "å¹³": {"suitable": ["ä¼‘æ¯", "è¯»ä¹¦", "æ•´ç†", "è§„åˆ’"], "unsuitable": ["å†’é™©", "æŠ•æœº"]},
        "å°å‡¶": {"suitable": ["åæ€", "è°ƒæ•´", "ä¿®å¤å…³ç³»"], "unsuitable": ["å¼€ä¸š", "æŠ•èµ„"]},
        "å‡¶": {"suitable": ["ä½è°ƒ", "å…»ç²¾è“„é”", "å­¦ä¹ å……ç”µ"], "unsuitable": ["ç­¾çº¦", "åˆ›ä¸š"]},
        "å¤§å‡¶": {"suitable": ["é™å…»", "åçœ", "ç§¯è“„åŠ›é‡"], "unsuitable": ["é‡å¤§å†³å®š", "æŠ•èµ„"]},
    },
}


def get_activities_by_age(age: int, level: str) -> dict:
    """æ ¹æ®å¹´é¾„å’Œè¿åŠ¿ç­‰çº§è·å–é€‚å®œ/ä¸å®œæ´»åŠ¨"""
    if age < 10:
        stage = "ç«¥å¹´"
    elif age < 20:
        stage = "å°‘å¹´"
    elif age < 30:
        stage = "é’å¹´"
    else:
        stage = "æˆå¹´"

    return ACTIVITIES_BY_AGE.get(stage, {}).get(level, {"suitable": [], "unsuitable": []})


def get_fortune_level(score: float) -> tuple[str, str, str]:
    """æ ¹æ®åˆ†æ•°è·å–è¿åŠ¿ç­‰çº§"""
    for (low, high), (level, emoji, desc) in FORTUNE_LEVELS.items():
        if low <= score < high:
            return level, emoji, desc
    return "å¹³", "ğŸ˜", "è¿åŠ¿ä¸€èˆ¬"


def get_age_stage(age: int) -> tuple[str, str]:
    """æ ¹æ®å¹´é¾„è·å–äººç”Ÿé˜¶æ®µ"""
    for (low, high), (stage, desc) in AGE_STAGE.items():
        if low <= age < high:
            return stage, desc
    return "é•¿å¯¿æœŸ", "ç¦å¯¿ç»‘å…¨"

